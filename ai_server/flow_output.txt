2025-11-21 11:14:16 | [32mINFO[0m | root | ================================================================================
2025-11-21 11:14:16 | [32mINFO[0m | root | Logging system initialized at 2025-11-21 11:14:16.970832
2025-11-21 11:14:16 | [32mINFO[0m | root | Log directory: /home/thanhnx/e-com/logs
2025-11-21 11:14:16 | [32mINFO[0m | root | Console level: INFO, File level: DEBUG
2025-11-21 11:14:16 | [32mINFO[0m | root | ================================================================================
üöÄ Starting Test Flow Capture...
‚ùì Query: Best noise cancelling headphones under $300 for travel

--- 1. ROUTER AGENT ---
2025-11-21 11:14:17 | [32mINFO[0m | ai_server.llm.llm_factory | Agent 'router' using provider: cerebras
2025-11-21 11:14:17 | [32mINFO[0m | ai_server.llm.providers.cerebras | Creating Cerebras LLM for router: llama3.1-8b, temp=0.0, max_tokens=2000
2025-11-21 11:14:17 | [32mINFO[0m | ai_server.llm.providers.gemini | Creating Gemini LLM for fallback: using llm_fallback.gemini config
2025-11-21 11:14:17 | [32mINFO[0m | ai_server.llm.providers.gemini | Creating Gemini LLM for fallback: models/gemini-2.0-flash, temp=0.1, max_tokens=2000
2025-11-21 11:14:17 | [32mINFO[0m | ai_server.llm.providers.openai | Creating OpenAI LLM for fallback: using llm_fallback.openai config
2025-11-21 11:14:17 | [32mINFO[0m | ai_server.llm.providers.openai | Creating OpenAI LLM for fallback: gpt-4o-mini, temp=0.1, max_tokens=2000
2025-11-21 11:14:17 | [32mINFO[0m | ai_server.llm.llm_factory | Agent 'router' configured with 2 fallback provider(s): gemini, openai
2025-11-21 11:14:17 | [32mINFO[0m | httpx | HTTP Request: POST https://api.cerebras.ai/v1/chat/completions "HTTP/1.1 200 OK"

üìç Node Completed: ROUTER
üìù Router Decision: Router: standard (confidence=0.90) - Clear product category with no ambiguity. User wants wireless earbuds which is a well-defined product category.
2025-11-21 11:14:17 | [32mINFO[0m | ai_server.llm.llm_factory | Agent 'planning' using provider: cerebras
2025-11-21 11:14:17 | [32mINFO[0m | ai_server.llm.providers.cerebras | Creating Cerebras LLM for planning: qwen-3-32b, temp=0.1, max_tokens=4000
2025-11-21 11:14:17 | [32mINFO[0m | ai_server.llm.providers.gemini | Creating Gemini LLM for fallback: using llm_fallback.gemini config
2025-11-21 11:14:17 | [32mINFO[0m | ai_server.llm.providers.gemini | Creating Gemini LLM for fallback: models/gemini-2.0-flash, temp=0.1, max_tokens=2000
2025-11-21 11:14:17 | [32mINFO[0m | ai_server.llm.providers.openai | Creating OpenAI LLM for fallback: using llm_fallback.openai config
2025-11-21 11:14:17 | [32mINFO[0m | ai_server.llm.providers.openai | Creating OpenAI LLM for fallback: gpt-4o-mini, temp=0.1, max_tokens=2000
2025-11-21 11:14:17 | [32mINFO[0m | ai_server.llm.llm_factory | Agent 'planning' configured with 2 fallback provider(s): gemini, openai
2025-11-21 11:15:05 | [32mINFO[0m | httpx | HTTP Request: POST https://api.cerebras.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 11:15:05 | [32mINFO[0m | ai_server.tools.planning_tools | analyze_query_intent tokens: 495 input + 302 output = 797 total
2025-11-21 11:15:05 | [32mINFO[0m | ai_server.llm.llm_factory | Agent 'planning' using provider: cerebras
2025-11-21 11:15:05 | [32mINFO[0m | ai_server.llm.providers.cerebras | Creating Cerebras LLM for planning: qwen-3-32b, temp=0.1, max_tokens=4000
2025-11-21 11:15:05 | [32mINFO[0m | ai_server.llm.providers.gemini | Creating Gemini LLM for fallback: using llm_fallback.gemini config
2025-11-21 11:15:05 | [32mINFO[0m | ai_server.llm.providers.gemini | Creating Gemini LLM for fallback: models/gemini-2.0-flash, temp=0.1, max_tokens=2000
2025-11-21 11:15:05 | [32mINFO[0m | ai_server.llm.providers.openai | Creating OpenAI LLM for fallback: using llm_fallback.openai config
2025-11-21 11:15:05 | [32mINFO[0m | ai_server.llm.providers.openai | Creating OpenAI LLM for fallback: gpt-4o-mini, temp=0.1, max_tokens=2000
2025-11-21 11:15:05 | [32mINFO[0m | ai_server.llm.llm_factory | Agent 'planning' configured with 2 fallback provider(s): gemini, openai
2025-11-21 11:15:06 | [32mINFO[0m | httpx | HTTP Request: POST https://api.cerebras.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 11:15:06 | [32mINFO[0m | ai_server.tools.planning_tools | extract_requirements tokens: 551 input + 258 output = 809 total
2025-11-21 11:15:06 | [32mINFO[0m | ai_server.llm.llm_factory | Agent 'planning' using provider: cerebras
2025-11-21 11:15:06 | [32mINFO[0m | ai_server.llm.providers.cerebras | Creating Cerebras LLM for planning: qwen-3-32b, temp=0.1, max_tokens=4000
2025-11-21 11:15:06 | [32mINFO[0m | ai_server.llm.providers.gemini | Creating Gemini LLM for fallback: using llm_fallback.gemini config
2025-11-21 11:15:06 | [32mINFO[0m | ai_server.llm.providers.gemini | Creating Gemini LLM for fallback: models/gemini-2.0-flash, temp=0.1, max_tokens=2000
2025-11-21 11:15:06 | [32mINFO[0m | ai_server.llm.providers.openai | Creating OpenAI LLM for fallback: using llm_fallback.openai config
2025-11-21 11:15:06 | [32mINFO[0m | ai_server.llm.providers.openai | Creating OpenAI LLM for fallback: gpt-4o-mini, temp=0.1, max_tokens=2000
2025-11-21 11:15:06 | [32mINFO[0m | ai_server.llm.llm_factory | Agent 'planning' configured with 2 fallback provider(s): gemini, openai
2025-11-21 11:15:07 | [32mINFO[0m | httpx | HTTP Request: POST https://api.cerebras.ai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-11-21 11:15:07 | [33mWARNING[0m | ai_server.llm.fallback_llm | ‚ö†Ô∏è  Provider primary failed with RateLimitError: Error code: 429 - {'message': "We're experiencing high traffic right now! Please try again soon.", '
/home/thanhnx/e-com/.venv/lib/python3.12/site-packages/langchain_google_genai/chat_models.py:357: UserWarning: Convert_system_message_to_human will be deprecated!
  warnings.warn("Convert_system_message_to_human will be deprecated!")
2025-11-21 11:15:08 | [33mWARNING[0m | ai_server.llm.fallback_llm | üîÑ Switched from primary to fallback_0 for invoke() due to previous errors

üìç Node Completed: PLANNING
üìã Plan Created:
   - Intent: Intent: product_search 
   - Keywords: ['Best noise cancelling headphones under $300 for travel']
   - Engines: ['amazon']
   - Requirements: {
  "max_price": 300.0,
  "min_rating": null,
  "required_features": [
    "noise cancelling"
  ],
  "brand_preferences": []
}
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.agents.collection_agent | === Collection Agent Starting ===
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.agents.collection_agent | Searching for: Best noise cancelling headphones under $300 for travel on amazon.com
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.agents.collection_agent | Found 16 products
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.agents.collection_agent | Collection Agent complete: 16 products

üìç Node Completed: COLLECTION
üì¶ Collection Result:
   - Products Found: 16
   - Top Product: Soundcore by Anker Q20i Hybrid Active Noise Cancelling Headphones, Wireless Over-Ear Bluetooth, 40H Long ANC Playtime, Hi-Res Audio, Big Bass, Customize via an App, Transparency Mode
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.agents.review_agent | === Review Agent Starting ===
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.llm_factory | Agent 'review' using provider: cerebras
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.cerebras | Creating Cerebras LLM for review: qwen-3-32b, temp=0.1, max_tokens=4000
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.gemini | Creating Gemini LLM for fallback: using llm_fallback.gemini config
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.gemini | Creating Gemini LLM for fallback: models/gemini-2.0-flash, temp=0.1, max_tokens=2000
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.openai | Creating OpenAI LLM for fallback: using llm_fallback.openai config
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.openai | Creating OpenAI LLM for fallback: gpt-4o-mini, temp=0.1, max_tokens=2000
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.llm_factory | Agent 'review' configured with 2 fallback provider(s): gemini, openai
2025-11-21 11:15:08 | [33mWARNING[0m | ai_server.agents.review_agent | No reviews data available for analysis

üìç Node Completed: REVIEW_INTELLIGENCE
‚≠ê Review Intelligence:
   - Analyzed: 0 products
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.agents.market_agent | === Market Agent Starting ===
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.llm_factory | Agent 'market' using provider: cerebras
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.cerebras | Creating Cerebras LLM for market: qwen-3-32b, temp=0.1, max_tokens=4000
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.gemini | Creating Gemini LLM for fallback: using llm_fallback.gemini config
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.gemini | Creating Gemini LLM for fallback: models/gemini-2.0-flash, temp=0.1, max_tokens=2000
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.openai | Creating OpenAI LLM for fallback: using llm_fallback.openai config
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.openai | Creating OpenAI LLM for fallback: gpt-4o-mini, temp=0.1, max_tokens=2000
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.llm_factory | Agent 'market' configured with 2 fallback provider(s): gemini, openai
2025-11-21 11:15:08 | [31mERROR[0m | ai_server.agents.market_agent | Error in analyze_market_trends: '\n    "market_segment"'
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.agents.market_agent | Market analysis complete

üìç Node Completed: MARKET_INTELLIGENCE
üìä Market Intelligence:
   - Segment: Error
   - Price Insight: Analysis failed
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.agents.price_agent | === Price Agent Starting ===
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.llm_factory | Agent 'price' using provider: cerebras
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.cerebras | Creating Cerebras LLM for price: qwen-3-32b, temp=0.1, max_tokens=2000
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.gemini | Creating Gemini LLM for fallback: using llm_fallback.gemini config
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.gemini | Creating Gemini LLM for fallback: models/gemini-2.0-flash, temp=0.1, max_tokens=2000
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.openai | Creating OpenAI LLM for fallback: using llm_fallback.openai config
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.openai | Creating OpenAI LLM for fallback: gpt-4o-mini, temp=0.1, max_tokens=2000
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.llm_factory | Agent 'price' configured with 2 fallback provider(s): gemini, openai
2025-11-21 11:15:08 | [31mERROR[0m | ai_server.agents.price_agent | Error in analyze_price: '\n    "recommendation"'
2025-11-21 11:15:08 | [31mERROR[0m | ai_server.agents.price_agent | Error in analyze_price: '\n    "recommendation"'
2025-11-21 11:15:08 | [31mERROR[0m | ai_server.agents.price_agent | Error in analyze_price: '\n    "recommendation"'
2025-11-21 11:15:08 | [31mERROR[0m | ai_server.agents.price_agent | Error in analyze_price: '\n    "recommendation"'
2025-11-21 11:15:08 | [31mERROR[0m | ai_server.agents.price_agent | Error in analyze_price: '\n    "recommendation"'
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.agents.price_agent | Analyzed prices for 5 products

üìç Node Completed: PRICE_TRACKING
üí∞ Price Tracking:
   - Analyzed: 5 products
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.agents.analysis_agent | === Analysis Agent Starting ===
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.llm_factory | Agent 'analysis' using provider: cerebras
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.cerebras | Creating Cerebras LLM for analysis: qwen-3-32b, temp=0.2, max_tokens=8000
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.gemini | Creating Gemini LLM for fallback: using llm_fallback.gemini config
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.gemini | Creating Gemini LLM for fallback: models/gemini-2.0-flash, temp=0.1, max_tokens=2000
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.openai | Creating OpenAI LLM for fallback: using llm_fallback.openai config
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.providers.openai | Creating OpenAI LLM for fallback: gpt-4o-mini, temp=0.1, max_tokens=2000
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.llm.llm_factory | Agent 'analysis' configured with 2 fallback provider(s): gemini, openai
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.agents.analysis_agent | Analysis Agent initialized with chain-of-thought reasoning
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.agents.analysis_agent | Analyzing 16 products with chain-of-thought reasoning
2025-11-21 11:15:08 | [32mINFO[0m | ai_server.agents.analysis_agent | Step 1: Comparing products with chain-of-thought
2025-11-21 11:15:11 | [32mINFO[0m | httpx | HTTP Request: POST https://api.cerebras.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 11:15:11 | [32mINFO[0m | ai_server.agents.analysis_agent | compare_products_cot tokens: 2761 input + 2102 output = 4863 total
2025-11-21 11:15:11 | [32mINFO[0m | ai_server.agents.analysis_agent | Product comparison completed with 6 reasoning steps
2025-11-21 11:15:11 | [32mINFO[0m | ai_server.agents.analysis_agent | Step 2: Calculating value scores with reasoning
2025-11-21 11:15:25 | [32mINFO[0m | httpx | HTTP Request: POST https://api.cerebras.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 11:15:25 | [32mINFO[0m | ai_server.agents.analysis_agent | calculate_value_score tokens: 1123 input + 720 output
2025-11-21 11:15:25 | [32mINFO[0m | ai_server.agents.analysis_agent | Value score calculated: 0.93 for Soundcore by Anker Q20i Hybrid Active Noise Cancelling Headphones, Wireless Over-Ear Bluetooth, 40H Long ANC Playtime, Hi-Res Audio, Big Bass, Customize via an App, Transparency Mode
2025-11-21 11:15:55 | [32mINFO[0m | httpx | HTTP Request: POST https://api.cerebras.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 11:15:55 | [32mINFO[0m | ai_server.agents.analysis_agent | calculate_value_score tokens: 1124 input + 842 output
2025-11-21 11:15:55 | [32mINFO[0m | ai_server.agents.analysis_agent | Value score calculated: 0.94 for Soundcore by Anker Q20i Hybrid Active Noise Cancelling Headphones, Wireless Over-Ear Bluetooth, 40H Long ANC Playtime, Hi-Res Audio, Big Bass, Customize via an App, Transparency Mode (White)
2025-11-21 11:15:56 | [32mINFO[0m | httpx | HTTP Request: POST https://api.cerebras.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 11:15:56 | [33mWARNING[0m | ai_server.llm.fallback_llm | ‚ö†Ô∏è  Provider primary returned None for structured output, trying next provider
/home/thanhnx/e-com/.venv/lib/python3.12/site-packages/langchain_google_genai/chat_models.py:357: UserWarning: Convert_system_message_to_human will be deprecated!
  warnings.warn("Convert_system_message_to_human will be deprecated!")
2025-11-21 11:15:58 | [33mWARNING[0m | ai_server.llm.fallback_llm | üîÑ Switched to fallback_0 for structured output
2025-11-21 11:15:58 | [32mINFO[0m | ai_server.agents.analysis_agent | calculate_value_score tokens: 812 input + 119 output
2025-11-21 11:15:58 | [32mINFO[0m | ai_server.agents.analysis_agent | Value score calculated: 0.80 for Soundcore Anker Life Q20 Hybrid Active Noise Cancelling Headphones, Wireless Over Ear Bluetooth Headphones, 60H Playtime, Hi-Res Audio, Deep Bass, Foam Ear Cups, Travel, Office, USB-C Charging
2025-11-21 11:15:58 | [32mINFO[0m | httpx | HTTP Request: POST https://api.cerebras.ai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-11-21 11:15:58 | [33mWARNING[0m | ai_server.llm.fallback_llm | ‚ö†Ô∏è  Structured output provider primary failed: RateLimitError
/home/thanhnx/e-com/.venv/lib/python3.12/site-packages/langchain_google_genai/chat_models.py:357: UserWarning: Convert_system_message_to_human will be deprecated!
  warnings.warn("Convert_system_message_to_human will be deprecated!")
2025-11-21 11:16:00 | [32mINFO[0m | ai_server.agents.analysis_agent | calculate_value_score tokens: 803 input + 152 output
2025-11-21 11:16:00 | [32mINFO[0m | ai_server.agents.analysis_agent | Value score calculated: 0.90 for Bose QuietComfort Headphones - Wireless Bluetooth Headphones, Active Over Ear Noise Cancelling and Mic, USB-C Charging, Deep Bass, Up to 24 Hours of Playtime, Black
2025-11-21 11:16:05 | [32mINFO[0m | httpx | HTTP Request: POST https://api.cerebras.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 11:16:05 | [33mWARNING[0m | ai_server.llm.fallback_llm | üîÑ Switched to primary for structured output
2025-11-21 11:16:05 | [32mINFO[0m | ai_server.agents.analysis_agent | calculate_value_score tokens: 1116 input + 843 output
2025-11-21 11:16:05 | [32mINFO[0m | ai_server.agents.analysis_agent | Value score calculated: 0.82 for Bluetooth Headphones with Active Noise Cancelling (ANC), Wireless Over Ear Bluetooth Headsets with 35H Playtime, HiFi Stereo Foldable Headphones with Foam Ear Cups for Sports, Travel, Black
2025-11-21 11:16:05 | [32mINFO[0m | ai_server.agents.analysis_agent | Step 3: Generating recommendation explanation
2025-11-21 11:16:06 | [32mINFO[0m | httpx | HTTP Request: POST https://api.cerebras.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 11:16:06 | [32mINFO[0m | ai_server.agents.analysis_agent | explain_recommendation tokens: 1290 input + 830 output
2025-11-21 11:16:06 | [32mINFO[0m | ai_server.agents.analysis_agent | Recommendation explanation generated for Soundcore by Anker Q20i Hybrid Active Noise Cancelling Headphones, Wireless Over-Ear Bluetooth, 40H Long ANC Playtime, Hi-Res Audio, Big Bass, Customize via an App, Transparency Mode
2025-11-21 11:16:06 | [32mINFO[0m | ai_server.agents.analysis_agent | Step 4: Analyzing tradeoffs
2025-11-21 11:16:28 | [32mINFO[0m | httpx | HTTP Request: POST https://api.cerebras.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 11:16:28 | [32mINFO[0m | ai_server.agents.analysis_agent | identify_tradeoffs tokens: 2359 input + 1288 output
2025-11-21 11:16:28 | [32mINFO[0m | ai_server.agents.analysis_agent | Tradeoff analysis completed
2025-11-21 11:16:28 | [32mINFO[0m | ai_server.agents.analysis_agent | Step 5: Detecting red flags
2025-11-21 11:17:30 | [32mINFO[0m | httpx | HTTP Request: POST https://api.cerebras.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 11:17:30 | [32mINFO[0m | ai_server.agents.analysis_agent | Detected 0 red flags
2025-11-21 11:17:30 | [32mINFO[0m | ai_server.agents.analysis_agent | Analysis complete. Recommended 5 products
2025-11-21 11:17:30 | [32mINFO[0m | ai_server.agents.analysis_agent | Top recommendation: Soundcore by Anker Q20i Hybrid Active Noise Cancelling Headphones, Wireless Over-Ear Bluetooth, 40H Long ANC Playtime, Hi-Res Audio, Big Bass, Customize via an App, Transparency Mode
2025-11-21 11:17:30 | [32mINFO[0m | ai_server.agents.analysis_agent | Confidence: 0.92
2025-11-21 11:17:30 | [32mINFO[0m | ai_server.agents.analysis_agent | Red flags found: 0

üìç Node Completed: ANALYSIS
üß† Analysis Agent:
   - Top Rec: Soundcore by Anker Q20i Hybrid Active Noise Cancelling Headphones
   - Confidence: 0.92
   - Reasoning Steps: 6
   - Sample Thought: User prioritizes noise cancelling for travel under $300 with no brand preference. Filtering products within budget and with ANC.
2025-11-21 11:17:30 | [32mINFO[0m | ai_server.agents | === Response Agent Starting ===
2025-11-21 11:17:30 | [32mINFO[0m | ai_server.llm.llm_factory | Agent 'response' using provider: cerebras
2025-11-21 11:17:30 | [32mINFO[0m | ai_server.llm.providers.cerebras | Creating Cerebras LLM for response: qwen-3-32b, temp=0.3, max_tokens=8000
2025-11-21 11:17:31 | [32mINFO[0m | ai_server.llm.providers.gemini | Creating Gemini LLM for fallback: using llm_fallback.gemini config
2025-11-21 11:17:31 | [32mINFO[0m | ai_server.llm.providers.gemini | Creating Gemini LLM for fallback: models/gemini-2.0-flash, temp=0.1, max_tokens=2000
2025-11-21 11:17:31 | [32mINFO[0m | ai_server.llm.providers.openai | Creating OpenAI LLM for fallback: using llm_fallback.openai config
2025-11-21 11:17:31 | [32mINFO[0m | ai_server.llm.providers.openai | Creating OpenAI LLM for fallback: gpt-4o-mini, temp=0.1, max_tokens=2000
2025-11-21 11:17:31 | [32mINFO[0m | ai_server.llm.llm_factory | Agent 'response' configured with 2 fallback provider(s): gemini, openai
2025-11-21 11:17:31 | [32mINFO[0m | ai_server.agents | Response Agent initialized
2025-11-21 11:17:31 | [32mINFO[0m | ai_server.agents | Generating response components...
2025-11-21 11:17:31 | [32mINFO[0m | ai_server.agents | Creating executive summary
2025-11-21 11:17:32 | [32mINFO[0m | httpx | HTTP Request: POST https://api.cerebras.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 11:17:32 | [32mINFO[0m | ai_server.agents | generate_executive_summary tokens: 707 input + 445 output = 1152 total
2025-11-21 11:17:32 | [32mINFO[0m | ai_server.agents | Executive summary generated
2025-11-21 11:17:32 | [32mINFO[0m | ai_server.agents | Creating recommendation details
2025-11-21 11:17:32 | [32mINFO[0m | ai_server.agents | Creating comparison table
2025-11-21 11:17:32 | [32mINFO[0m | ai_server.agents | Creating reasoning summary
2025-11-21 11:18:35 | [32mINFO[0m | httpx | HTTP Request: POST https://api.cerebras.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 11:18:35 | [32mINFO[0m | ai_server.agents | create_reasoning_summary tokens: 1581 input + 725 output = 2306 total
2025-11-21 11:18:35 | [32mINFO[0m | ai_server.agents | Reasoning summary generated
2025-11-21 11:18:35 | [32mINFO[0m | ai_server.agents | Generating follow-up suggestions
2025-11-21 11:19:37 | [32mINFO[0m | httpx | HTTP Request: POST https://api.cerebras.ai/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 11:19:37 | [32mINFO[0m | ai_server.agents | generate_follow_up_suggestions tokens: 853 input + 486 output = 1339 total
2025-11-21 11:19:37 | [32mINFO[0m | ai_server.agents | Generated 4 follow-up suggestions
2025-11-21 11:19:37 | [32mINFO[0m | ai_server.agents | Creating red flags summary
2025-11-21 11:19:37 | [32mINFO[0m | ai_server.agents | Creating recommendations list
2025-11-21 11:19:37 | [32mINFO[0m | ai_server.agents | Formatting final response
2025-11-21 11:19:37 | [32mINFO[0m | ai_server.agents | Response generation complete in 126.32s
2025-11-21 11:19:37 | [32mINFO[0m | ai_server.agents | Response length: 3420 characters

üìç Node Completed: RESPONSE
üìù Final Response Generated:
   - Summary: Soundcore by Anker Q20i Hybrid Active Noise Cancelling Headphones
   - Markdown Length: 3420
   - Full response saved to ai_server/final_response.md
